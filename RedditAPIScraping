{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Testing some basic Reddit API functions\n",
    "\n",
    "Think of this as something like a tutorial for API functions that may be useful"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {},
   "outputs": [],
   "source": [
    "import praw          # Python Reddit API wrapper- pip install if you don't have it\n",
    "import json\n",
    "import pprint\n",
    "import numpy as np\n",
    "import pandas as pd\n",
    "import sklearn.feature_extraction.text\n",
    "import math"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 95,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "\"\"\"\n",
    "We need some prerequisites to use PRAW.\n",
    "\n",
    "You will need to create an application in order to get authentication information:\n",
    "https://praw.readthedocs.io/en/latest/getting_started/quick_start.html\n",
    "\n",
    "After you create the app, you should be directed to the \"apps\" tab under your Reddit account. Now you can fetch the OAuth \n",
    "credentials you'll need.\n",
    "\n",
    "'client_id' is located under \"personal use script\"\n",
    "'password' is just your account's reddit password\n",
    "'user_agent' is just a string that function as a unique identifier for your network requests- could be anything\n",
    "'username' is your reddit account's username\n",
    "\n",
    "reddit = praw.Reddit(client_id='kCjbiHmfa6QCHg',\n",
    "                     client_secret='oE4G_WsYBcQUGyWGndq1tJ5Qnzw',\n",
    "                     password='1guiwevlfo00esyy',\n",
    "                     user_agent='testscript by /u/fakebot3',\n",
    "                     username='fakebot3')\n",
    "\"\"\"\n",
    "\n",
    "# This creates a Reddit instance\n",
    "reddit = praw.Reddit(client_id = 'kCjbiHmfa6QCHg', \n",
    "                     client_secret = 'oE4G_WsYBcQUGyWGndq1tJ5Qnzw', \n",
    "                     # Put password below\n",
    "                     # password = PUT THE PASSWORD HERE \n",
    "                     password = \"\",\n",
    "                     user_agent = 'myAgent', \n",
    "                     # Put the username below\n",
    "                     # username = USERNAME HERE\n",
    "                     username = \"\"\n",
    "                    )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "BootyMcBootyson\n"
     ]
    }
   ],
   "source": [
    "# Verify the reddit instance by ensuring that we have a \"user\" field\n",
    "print(reddit.user.me())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# Pick a subreddit from which to scrape comments\n",
    "subreddit = reddit.subreddit('politics')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Politics\n"
     ]
    }
   ],
   "source": [
    "print(subreddit.title)         # Output: reddit Development\n",
    "print(subreddit.description)   # Output: A subreddit for discussion of ..."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 82,
   "metadata": {
    "collapsed": true
   },
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Megathread: Trump Tells Freshman Congresswomen to 'Go Back' to the Countries They Came From\n",
      "48232\n",
      "cd4qn2\n",
      "https://www.reddit.com/r/politics/comments/cd4qn2/megathread_trump_tells_freshman_congresswomen_to/\n",
      "Mega Thread: Unsealed Michael Cohen documents reportedly implicate Trump, Hicks, others in 'hush-money' payments\n",
      "48659\n",
      "ceuxd1\n",
      "https://www.reddit.com/r/politics/comments/ceuxd1/mega_thread_unsealed_michael_cohen_documents/\n",
      "MSNBC Airs Jeffrey Epstein, Trump Mar-A-Lago Party Footage From 1992\n",
      "57055\n",
      "cecq3b\n",
      "https://www.newsweek.com/morning-joe-video-trump-epstein-maralago-party-1449700\n",
      "Donald Trump tells AOC and Ilhan Omar to 'go back' to their 'original' countries\n",
      "64294\n",
      "cd2l9u\n",
      "https://www.independent.co.uk/news/world/americas/us-politics/trump-alexandria-ocasio-cortez-rashida-tlaib-pelosi-migrant-centres-a9004246.html\n",
      "Rep. Ilhan Omar Has Been A U.S. Citizen Longer Than Melania Trump\n",
      "71617\n",
      "cdpvfv\n",
      "https://www.huffpost.com/entry/ilhan-omar-citizen-longer-melania-trump_n_5d2cfd80e4b0a5833c5d8a31\n",
      "Trump says Mueller should not be allowed to tell congress about his obstruction: 'It will be bad for him'\n",
      "58316\n",
      "cgd3xa\n",
      "https://www.independent.co.uk/news/world/americas/us-politics/trump-mueller-hearing-russia-collusion-twitter-us-president-democrats-congress-a9015651.html\n",
      "Trump Is a Racist. If You Still Support Him, So Are You.\n",
      "40417\n",
      "cd7d4u\n",
      "https://www.thedailybeast.com/trump-is-a-racist-if-you-still-support-him-so-are-you?source=articles&via=rss\n",
      "Federal Law Says 'Go Back To Where You Came From' Counts As Discrimination\n",
      "46615\n",
      "ceagt7\n",
      "https://www.huffingtonpost.com/entry/federal-law-go-back-came-from-discrimination_n_5d2e815de4b085eda5a390cc\n",
      "AOC to DHS chief: Border agents shared 'images of my violent rape' in secret Facebook group\n",
      "41037\n",
      "cf690z\n",
      "https://www.usatoday.com/story/news/politics/2019/07/18/alexandria-ocasio-cortez-homeland-security-kevin-mcaleenan-facebook-group/1769460001/\n",
      "Trump rally crowd chants 'Send her back' about Omar\n",
      "30749\n",
      "cekxem\n",
      "https://thehill.com/homenews/administration/453633-trump-rally-crowd-chants-send-her-back-about-omar\n",
      "'This Man Can Beat Trump': Sanders Viewed Most Favorably of 2020 Democratic Candidates\n",
      "38620\n",
      "cfmqy2\n",
      "https://www.commondreams.org/news/2019/07/20/man-can-beat-trump-sanders-viewed-most-favorably-2020-democratic-candidates\n",
      "Megathread | Trump abandons bid to include citizenship question on census\n",
      "30944\n",
      "cc2bfm\n",
      "https://www.reddit.com/r/politics/comments/cc2bfm/megathread_trump_abandons_bid_to_include/\n",
      "'Unfit to be president': Full text of House impeachment resolution on Trump\n",
      "59208\n",
      "ce5nfd\n",
      "https://www.nbcnews.com/politics/donald-trump/unfit-be-president-full-text-house-impeachment-resolution-trump-n1030611\n",
      "It’s 2019. Time to Stop Making Excuses for Trump Supporters.\n",
      "30371\n",
      "cfk7r7\n",
      "https://washingtonmonthly.com/2019/07/20/its-2019-time-to-stop-making-excuses-for-trump-supporters/\n",
      "Justin Bieber: I appreciate Trump helping A$AP Rocky, but 'can you also let those kids out of cages?'\n",
      "51153\n",
      "cfs5qb\n",
      "https://www.cnn.com/2019/07/20/entertainment/justin-bieber-donald-trump-asap-rocky-trnd/index.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+rss%2Fcnn_latest+%28RSS%3A+CNN+-+Most+Recent%29\n",
      "Police officer suggests Alexandria Ocasio-Cortez should be shot, calling her a \"vile idiot\"\n",
      "38642\n",
      "cfz30h\n",
      "https://www.newsweek.com/police-alexandria-ocasio-cortez-should-shot-vile-idiot-1450356\n",
      "As backlash against Trump’s ‘go back’ comments builds, here’s Ronald Reagan’s ‘love letter to immigrants’: ‘You can go to live in Germany, Turkey or Japan, but you cannot become German, Turk or Japanese. But anyone, from any corner of the Earth, can come to live in America and become an American.’\n",
      "59294\n",
      "cdyzx1\n",
      "https://www.marketwatch.com/story/as-backlash-against-trumps-go-back-comments-builds-heres-ronald-reagans-love-letter-to-immigrants-2019-07-16\n",
      "#RacistGOP trends on Twitter as Republicans stay silent on Donald Trump's racist attack\n",
      "46583\n",
      "cdvf6t\n",
      "https://www.newsweek.com/racist-gop-trends-twitter-donald-trump-attack-1449399\n",
      "John McCain famously shut down a racist voter at a 2008 campaign event, now the video is going viral after Trump did nothing to stop racist chants at his rally\n",
      "62323\n",
      "cf9w57\n",
      "https://www.businessinsider.com/john-mccain-racist-voter-2008-video-viral-trump-2019-7\n",
      "Donald Trump earns place in history with how America treats migrant children – At a detention center, kids have gone hungry and without beds. They've seen outbreaks of scabies, shingles and chickenpox. For those watching, this is what a national disgrace looks like\n",
      "57990\n",
      "cbo6u5\n",
      "https://www.usatoday.com/story/opinion/2019/07/10/donald-trump-earns-history-treats-migrant-kids-editorials-debates/1682791001/\n",
      "Crowd chanting 'welcome home Ilhan' greets Omar at airport\n",
      "57916\n",
      "cezdy6\n",
      "https://thehill.com/blogs/blog-briefing-room/news/453822-crowd-chanting-welcome-home-ilhan-greets-omar-at-airport\n",
      "I hope Jeffrey Epstein sings like a bird. And if some Democrats go down, so be it\n",
      "60188\n",
      "cbiz8t\n",
      "https://www.theguardian.com/commentisfree/2019/jul/09/jeffrey-epstein-sings-like-a-bird-and-if-some-democrats-go-down-so-be-it\n",
      "Megathread: Labor Secretary Alex Acosta announces that he is resigning\n",
      "34415\n",
      "ccb18q\n",
      "https://www.reddit.com/r/politics/comments/ccb18q/megathread_labor_secretary_alex_acosta_announces/\n",
      "The Cop Who Said AOC “Needs A Round” Just Got Fired - Chief Arthur Lawson reportedly fired the 14-year veteran of the force and another officer who \"liked\" the threatening post\n",
      "42536\n",
      "cgjj8p\n",
      "https://news.vice.com/en_us/article/qv77b3/the-cop-who-said-aoc-needs-a-round-reportedly-just-got-fired\n",
      "Trump invokes KKK slogan 'love it or leave it' at North Carolina rally\n",
      "32461\n",
      "ceqbzd\n",
      "https://www.sbs.com.au/news/trump-invokes-kkk-slogan-love-it-or-leave-it-at-north-carolina-rally\n",
      "The G.O.P. Is Now a Personality Cult—The party no longer stands for much of anything.\n",
      "31902\n",
      "cfxwbq\n",
      "https://www.nytimes.com/2019/07/20/opinion/sunday/republicans-united-states.html\n",
      "Ilhan Omar: I Believe President Trump Is ‘Fascist’\n",
      "27503\n",
      "cewci1\n",
      "https://www.thedailybeast.com/ilhan-omar-i-believe-president-trump-is-fascist\n",
      "Kellyanne Conway Snaps Back at Reporter: ‘What’s Your Ethnicity?’\n",
      "26950\n",
      "ce03fc\n",
      "https://www.thedailybeast.com/kellyanne-conway-snaps-back-at-reporter-whats-your-ethnicity?source=politics&via=rss\n",
      "Trump proposed a 'white vs black contestants' season of 'The Apprentice' in a recently resurfaced recording\n",
      "37001\n",
      "cfzs8x\n",
      "https://www.businessinsider.com/donald-trump-proposed-white-vs-black-contestants-for-the-apprentice-2019-7\n",
      "'No shower, no shower!' migrants shout as Pence visits Texas detention centers\n",
      "30321\n",
      "ccjlnl\n",
      "https://www.nbcnews.com/news/us-news/no-shower-no-shower-migrants-shout-pence-visits-texas-detention-n1029426\n",
      "Video shows Mike Pence ‘callously’ turning back on caged migrants while touring border detention centres – One person said: 'I saw not a single shred of pity or empathy in that empty man’s eyes'\n",
      "29622\n",
      "ccqfam\n",
      "https://www.independent.co.uk/news/world/americas/us-politics/mike-pence-border-camp-migrant-immigration-mcallen-back-turn-twitter-video-a9003576.html\n",
      "Trump's Tweets Prove That He Is a Raging Racist\n",
      "29670\n",
      "cd9tfv\n",
      "https://www.nytimes.com/2019/07/14/opinion/trump-twitter-racism.html\n",
      "Among the questions for Mueller: Why wasn't Donald Trump Jr. interviewed?\n",
      "29629\n",
      "cgr1cf\n",
      "https://www.nbcnews.com/politics/donald-trump/among-questions-mueller-why-wasn-t-donald-trump-jr-interviewed-n1032541\n",
      "Are you OK with a racist president, Republicans?\n",
      "24931\n",
      "cdiaxo\n",
      "https://www.charlotteobserver.com/opinion/article232675982.html\n",
      "Trump hosted an exclusive party with Jeffrey Epstein at his Mar-a-Lago estate, a new report claims. It was just the 2 of them and '28 girls'\n",
      "43004\n",
      "cbd51q\n",
      "https://www.businessinsider.com/trump-epstein-party-at-mar-a-lago-women-2019-7\n",
      "Almost 80 percent of college students think Trump's campaign likely had improper contact with Russia\n",
      "31426\n",
      "cghi1x\n",
      "https://www.newsweek.com/donald-trump-robert-mueller-russia-college-students-poll-1450546\n",
      "Trump has not built a single mile of new border fence after 30 months in office\n",
      "35906\n",
      "cfmu7g\n",
      "https://www.washingtonexaminer.com/news/trump-has-not-built-a-single-mile-of-new-border-fence-after-30-months-in-office\n",
      "Theresa May condemns Donald Trump over racist tweet in unprecedented attack: 'Completely unacceptable'\n",
      "42883\n",
      "cdfxut\n",
      "https://www.independent.co.uk/news/uk/politics/trump-theresa-may-twitter-racist-aoc-ilhan-omar-cortez-a9005121.html\n",
      "Al Green to force impeachment vote following incendiary Trump tweets\n",
      "34137\n",
      "cdkah8\n",
      "https://thehill.com/homenews/house/453100-al-green-to-force-impeachment-vote-following-incendiary-trump-tweets\n",
      "Russian intel planted fake report that Seth Rich was killed by assassins working for Clinton\n",
      "33841\n",
      "cb1il2\n",
      "https://www.washingtonexaminer.com/news/russian-intel-planted-fake-report-that-seth-rich-was-killed-by-assassins-working-for-clinton\n",
      "Rep. Al Green says he will file articles of impeachment against Trump tonight, despite pushback from Democratic leaders\n",
      "36875\n",
      "ce20gy\n",
      "https://www.washingtonpost.com/news/politics/wp/2019/07/16/rep-al-green-says-he-will-file-articles-of-impeachment-against-trump-tonight-despite-pushback-from-democratic-leaders/\n",
      "AOC is driving more social media traffic than any Democratic presidential candidate\n",
      "26166\n",
      "cflhaw\n",
      "https://www.usatoday.com/story/news/politics/2019/07/17/alexandria-ocasio-cortez-more-social-media-traffic-than-any-democrat/1762763001/\n",
      "Pete Buttigieg has a point: Republicans will call any Democratic nominee a socialist\n",
      "21208\n",
      "cetcyr\n",
      "https://www.kansascity.com/opinion/opn-columns-blogs/melinda-henneberger/article232797167.html\n",
      "If everyone had voted, Hillary Clinton would probably be president. Republicans owe much of their electoral success to liberals who don’t vote\n",
      "16816\n",
      "cbqm7q\n",
      "https://www.economist.com/graphic-detail/2019/07/06/if-everyone-had-voted-hillary-clinton-would-probably-be-president\n",
      "Racism Is an Impeachable Offense\n",
      "26112\n",
      "cfufz9\n",
      "https://theintercept.com/2019/07/19/trump-racism-impeachment-offense/\n",
      "Pro-Trump Message Board “Quarantined” By Reddit Following Violent Threats\n",
      "43804\n",
      "c5u80n\n",
      "https://www.washingtonpost.com/technology/2019/06/26/pro-trump-message-board-quarantined-by-reddit-following-violent-threats/?utm_term=.f85fdb5b8bec\n",
      "Trump Says Troops ‘Took Over Airports’ During Revolutionary War, in Rainy Fourth of July Speech\n",
      "40246\n",
      "c9ae49\n",
      "https://www.rollingstone.com/politics/politics-news/trump-airports-revolutionary-war-855742/\n",
      "Trump’s ‘Go Back’ Tweets Leave No Room for Doubt - The president has ripped the band-aid off any reassuring notions the U.S. had about the progress of civil rights and the withering of racism.\n",
      "33021\n",
      "cdh5b2\n",
      "https://www.bloomberg.com/opinion/articles/2019-07-15/trump-targets-aoc-tlaib-pressley-and-omar-with-go-back-tweets\n",
      "'Very substantial evidence' Trump is 'guilty of high crimes and misdemeanors,' House Judiciary Chair says\n",
      "28064\n",
      "cg0gy6\n",
      "https://www.cnn.com/2019/07/21/politics/mueller-investigation-nadler-says-evidence-trump-guilty-high-crimes-misdemeanors/index.html\n",
      "'We Have a President Who Lost the Popular Vote by Three Million': Sanders Backs Abolishing the Electoral College | Nearly two-thirds of Americans support replacing the Electoral College with a national popular vote system, according to recent polling\n",
      "14862\n",
      "cgri9t\n",
      "https://www.commondreams.org/news/2019/07/12/we-have-president-who-lost-popular-vote-three-million-sanders-backs-abolishing\n",
      "Migrant Detention Center Inspector Says Children Are Unwashed, Sobbing And Critically Ill\n",
      "26566\n",
      "ccf9nr\n",
      "https://www.newsweek.com/migrant-detention-center-conditions-child-separation-abuse-trauma-trump-1449043\n",
      "Melania Trump remains silent on husband's racist tweets despite having been a US citizen for shorter time than Ilhan Omar\n",
      "26186\n",
      "cdvuyx\n",
      "https://www.independent.co.uk/news/world/americas/us-politics/melania-trump-citizen-ilhan-omar-racist-tweets-democratic-congresswomen-aoc-ocasio-cortez-a9006611.html\n",
      "The media is getting second chance to cover Robert Mueller’s findings — and this time get it right.\n",
      "27220\n",
      "cggfyi\n",
      "https://www.washingtonpost.com/lifestyle/style/the-media-is-getting-second-chance-to-cover-robert-muellers-findings--and-this-time-get-it-right/2019/07/22/8e4551f8-ac77-11e9-bc5c-e73b603e7f38_story.html\n",
      "Illinois GOP group shares, then deletes meme labeling minority congresswomen 'Jihad Squad'\n",
      "27704\n",
      "cg4a78\n",
      "https://thehill.com/homenews/state-watch/454072-illinois-gop-chairs-shares-and-deletes-movie-poster-meme-labeling\n",
      "Megathread: Robert Mueller has agreed to testify publicly before Congress on July 17, House Judiciary and Intel Committees\n",
      "58214\n",
      "c5j580\n",
      "https://www.reddit.com/r/politics/comments/c5j580/megathread_robert_mueller_has_agreed_to_testify/\n",
      "Trump Hosted Party With Jeffrey Epstein and ‘28 Girls,’ Report Claims\n",
      "27359\n",
      "cbfuvk\n",
      "https://www.thedailybeast.com/trump-hosted-party-with-jeffrey-epstein-and-28-girls-report-claims\n",
      "McConnell Is Blocking Any Plan to Prevent a Russian Election Attack in 2020\n",
      "49754\n",
      "cak4q1\n",
      "http://nymag.com/intelligencer/amp/2019/06/mcconnell-blocking-plans-to-prevent-russian-election-attack.html?utm_medium=s1&utm_source=fb&utm_campaign=nym&__twitter_impression=true\n",
      "Trump expected to order citizenship question added to the census\n",
      "13654\n",
      "cbukbm\n",
      "https://www.nbcnews.com/politics/donald-trump/trump-expected-order-citizenship-question-added-census-n1028656\n",
      "Megathread: Trump approves missile strike, aborts before launch.\n",
      "27517\n",
      "c368e7\n",
      "https://www.reddit.com/r/politics/comments/c368e7/megathread_trump_approves_missile_strike_aborts/\n",
      "Warren pledges to create commission to investigate 'crimes committed by the United States against immigrants'\n",
      "30915\n",
      "ccvhie\n",
      "https://thehill.com/homenews/campaign/452954-warren-pledges-to-create-commission-to-investigate-crimes-committed-by-the\n",
      "House Holds Barr and Ross in Contempt Over Census Dispute\n",
      "35440\n",
      "cejuol\n",
      "https://www.nytimes.com/2019/07/17/us/politics/barr-ross-contempt-vote.html?action=click&module=Alert&pgtype=Homepage\n",
      "The Details of Trump’s Hush Money Payments Are About To Go Public\n",
      "31277\n",
      "ceeubv\n",
      "https://news.vice.com/en_us/article/j5w7jb/the-details-of-trump-orgs-hush-money-payments-are-about-to-go-public\n",
      "Michael Moore warns 2020 Democrats: Trump 'hasn't lost one inch of his fired-up insane base'\n",
      "22444\n",
      "cbhadl\n",
      "https://thehill.com/homenews/media/449528-michael-moore-warns-2020-democrats-trump-hasnt-lost-one-inch-of-fired-up\n",
      "Kellyanne Conway defies subpoena, skips Oversight hearing\n",
      "32328\n",
      "cdmvgy\n",
      "https://www.politico.com/story/2019/07/15/kellyanne-conway-subpoena-oversight-hearing-1416132\n",
      "Ivanka Trump, Jared Kushner And Every Trump Administration Official Accused Of Using Personal Email For Work\n",
      "33980\n",
      "ce2n6o\n",
      "https://www.newsweek.com/trump-officials-private-email-ivanka-jared-kushner-betsy-devos-1449556\n",
      "William Barr’s donations to Senate Republicans spiked just before they confirmed him as attorney general\n",
      "37945\n",
      "cer49h\n",
      "https://qz.com/1667918/barrs-donations-to-senate-republicans-spiked-before-confirmation/\n",
      "FBI Director Wray: Russia intent on interfering with U.S. vote\n",
      "22229\n",
      "cgtovz\n",
      "https://www.reuters.com/article/us-usa-election-security/fbi-director-wray-russia-intent-on-interfering-with-u-s-vote-idUSKCN1UI1XW\n",
      "We're getting numb to Trump's lawlessness. That's very dangerous\n",
      "32194\n",
      "ca5cyz\n",
      "https://www.latimes.com/opinion/readersreact/la-ol-le-trump-hatch-act-lawless-20190707-story.html\n",
      "MSNBC Won't Air Trump's July 4th Event Live\n",
      "48957\n",
      "c8g5fx\n",
      "https://thehill.com/homenews/media/451453-msnbc-wont-air-trumps-july-4th-event-live\n",
      "Restaurant in Greenville, where Donald Trump's \"send her back\" rally was held, donates 100% of proceeds to helping immigrants\n",
      "23883\n",
      "cetgqz\n",
      "https://www.newsweek.com/north-carolina-restaurant-owner-donates-proceeds-immigration-1449992\n",
      "After Donald Trump declared Arnold Schwarzenegger \"died\" the \"Terminator\" star said \"I'm still here. Want to compare tax returns?\"\n",
      "43470\n",
      "cccnzh\n",
      "https://www.newsweek.com/donald-trump-arnold-schwarzenegger-dead-terminator-star-tax-returns-1448973\n",
      "Megathread: Federal Judge Blocks Justice Department’s Effort to Withdraw Lawyers on Census Citizenship Case\n",
      "17302\n",
      "cb8kze\n",
      "https://www.reddit.com/r/politics/comments/cb8kze/megathread_federal_judge_blocks_justice/\n",
      "Trump Says if You Don’t Love America, Leave it. Newsflash: He’s Been Bashing the U.S. for Years.\n",
      "24134\n",
      "cfpkyd\n",
      "https://news.vice.com/en_us/article/wjvmmm/trump-says-if-you-dont-love-america-leave-it-newsflash-hes-been-bashing-the-us-for-years?utm_source=vicenewsfacebook\n",
      "Report: Rudy Giuliani is running a backchannel with Ukraine to take down Mueller, Trump's critics. Two operatives who report to Rudy Giuliani are meeting with Ukrainian officials to dig up dirt on Democrats in 2020.\n",
      "21715\n",
      "cghvug\n",
      "https://www.salon.com/2019/07/22/report-rudy-giuliani-is-running-a-backchannel-with-ukraine-to-take-down-mueller-trumps-critics/\n",
      "Trump complains about being called racist after posting racist tweets.\n",
      "19929\n",
      "cdfx30\n",
      "https://www.independent.co.uk/news/world/americas/us-politics/trump-racist-aoc-tweet-rashida-tlaib-pelosi-democrats-ocasio-cortez-a9004906.html\n",
      "Ocasio-Cortez didn’t say she speaks with herself because she has 'a very good brain.' That was Trump.\n",
      "28959\n",
      "cbzbq0\n",
      "https://www.politifact.com/facebook-fact-checks/statements/2019/jul/11/facebook-posts/ocasio-cortez-didnt-say-she-speaks-herself-because/\n",
      "CNN didn't tell us its supposed panel of \"Republican women\" were, literally, the \"Trumpettes\". A random group of \"Republican women\" defending Trump's racist tweets? Nope, they were the \"Trumpettes of America\"\n",
      "13100\n",
      "cf22a0\n",
      "https://www.salon.com/2019/07/18/cnn-didnt-tell-us-its-supposed-panel-of-republican-women-were-literally-the-trumpettes/\n",
      "Reporter who saw Trump tax returns: They will expose him\n",
      "28271\n",
      "c8va8j\n",
      "http://www.msnbc.com/the-beat-with-ari/watch/reporter-who-saw-trump-tax-returns-they-will-expose-him-63268933709\n",
      "Commerce Secretary Wilbur Ross \"Can’t Stop Falling Asleep in Meetings\" says report\n",
      "21268\n",
      "cgbki5\n",
      "https://www.thedailybeast.com/wilbur-ross-cant-stop-falling-asleep-in-meetings-at-commerce-department-says-report\n",
      "Trump Begins Long Golf Weekend, Bringing Taxpayers’ Tab To $108 Million\n",
      "38347\n",
      "c9sbr3\n",
      "https://www.huffpost.com/entry/trump-golf-new-jersey_n_5d1fa60ee4b04c481413d77f\n",
      "2020 Presidential Race - First Democratic Primary Debate, Night 1 | 6/26/19 9:00-11:00 pm EDT | Discussion Thread\n",
      "2618\n",
      "c5ykmf\n",
      "https://www.reddit.com/r/politics/comments/c5ykmf/2020_presidential_race_first_democratic_primary/\n",
      "Warren warns of ‘coming economic crash’\n",
      "8577\n",
      "cgceeh\n",
      "https://www.politico.com/story/2019/07/22/elizabeth-warren-economic-crash-1424588\n",
      "Trump is leading a hate movement, and the world is watching\n",
      "12617\n",
      "cetw44\n",
      "https://www.washingtonpost.com/opinions/2019/07/18/trump-is-leading-hate-movement-world-is-watching/?utm_term=.e054b7b1290f\n",
      "Trump and Jeffrey Epstein seem to discuss 'hot' women in 1992 video discovered by NBC\n",
      "16074\n",
      "cecrt9\n",
      "https://theweek.com/speedreads/853290/trump-jeffrey-epstein-seem-discuss-hot-women-1992-video-discovered-by-nbc\n",
      "Trump Jokes to Putin They Should ‘Get Rid’ of Journalists\n",
      "33834\n",
      "c6j0en\n",
      "https://www.thedailybeast.com/trump-jokes-to-putin-they-should-get-rid-of-journalists\n",
      "Two Women Go Public to Say E. Jean Carroll Told Them About Alleged Trump Assault at the Time\n",
      "37040\n",
      "c647ee\n",
      "https://www.thedailybeast.com/e-jean-carroll-two-women-go-public-to-say-writer-told-them-about-the-alleged-trump-assault?ref=home\n",
      "This 4-month-old baby was separated from his parents at the border. Now he is nearly 2 and still can't speak or walk.\n",
      "38514\n",
      "c5dcv5\n",
      "https://www.businessinsider.com/trump-family-separation-constantin-mutu-2019-6\n",
      "‘1950s racism straight from the White House’: Trump’s tweets revolt politicians around the world\n",
      "22892\n",
      "cdhcfg\n",
      "https://www.washingtonpost.com/world/2019/07/15/racism-straight-white-house-trumps-tweets-revolt-politicians-around-world/?utm_term=.2084b382afe6\n",
      "Elizabeth Warren Just Went Full “Medicare for All”\n",
      "22969\n",
      "c5zncj\n",
      "https://news.vice.com/en_us/article/ywy4jj/elizabeth-warren-just-went-full-medicare-for-all?\n",
      "Republicans baby boomers are more likely to share #fakenews on Facebook\n",
      "21552\n",
      "ccshj9\n",
      "https://www.marketwatch.com/story/why-are-republican-baby-boomers-more-likely-to-share-fakenews-on-facebook-2019-01-10?mod=sm_fb_post&fbclid=IwAR09j5oppzuIvNSqRE7Ed9AbOf4NzmgZ6_25Ff2RurwezZqj7waHhl6Koqw\n",
      "Ilhan Omar calls Trump a 'fascist' after 'send her back' chant: 'Because I criticized the president, I should be deported?'\n",
      "10818\n",
      "cewfz3\n",
      "https://www.businessinsider.com/ilhan-omar-calls-trump-fascist-after-send-her-back-chant-2019-7\n",
      "Buttigieg: Republicans have 'lost all claim to ever use religious language' over family separations\n",
      "45436\n",
      "c6edv9\n",
      "https://thehill.com/homenews/campaign/450791-buttigieg-republicans-have-lost-all-claim-to-ever-use-religious-language\n",
      "Dems to pursue criminal contempt for William Barr, Wilbur Ross over census\n",
      "31503\n",
      "case6b\n",
      "https://www.politico.com/story/2019/07/08/criminal-contempt-william-barr-wilbur-ross-census-1402210\n",
      "E. Jean Carroll: “Trump attacked me in the dressing room of Bergdorf Goodman.”\n",
      "32568\n",
      "c3crkh\n",
      "http://nymag.com/intelligencer/2019/06/president-donald-trump-faces-new-rape-accusation.html\n",
      "Discussion Thread (Part 3): 2020 Presidential Race Democratic Debates - Post Debate | Night 2\n",
      "1916\n",
      "c6eqfd\n",
      "https://www.reddit.com/r/politics/comments/c6eqfd/discussion_thread_part_3_2020_presidential_race/\n",
      "Trump Administration \"Misses Deadline\" to Print Census Forms\n",
      "27453\n",
      "c87yip\n",
      "https://www.thedailybeast.com/2020-census-trump-administration-misses-deadline-to-print-census-forms\n",
      "Peter Wehner Has Chilling Theory For GOP Silence On Alex Acosta’s Deal With Jeffrey Epstein: “We have a president who is a sexual predator,” the longtime Republican insider said.\n",
      "27293\n",
      "cbfd41\n",
      "https://m.huffpost.com/us/entry/us_5d255322e4b07e698c4280fa\n",
      "CA lawmakers pass bill requiring Trump, presidential candidates to release tax returns\n",
      "16735\n",
      "cc0ze6\n",
      "https://abc7news.com/politics/ca-lawmakers-pass-bill-requiring-trump-to-release-tax-returns/5389210/\n",
      "President Donald Trump labeled as ‘Racist in Chief’ after his latest tweetstorm\n",
      "27110\n",
      "cd7vzu\n",
      "https://www.marketwatch.com/story/president-donald-trump-labeled-as-racist-in-chief-after-his-latest-tweetstorm-2019-07-14\n",
      "Discussion Thread (Part 2): 2020 Presidential Race Democratic Debates | Night 2\n",
      "1132\n",
      "c6e1or\n",
      "https://www.reddit.com/r/politics/comments/c6e1or/discussion_thread_part_2_2020_presidential_race/\n"
     ]
    }
   ],
   "source": [
    "# What do we do with comments vs submissions\n",
    "query1 = \"Trump\"\n",
    "\n",
    "# Assume you have a Subreddit instance bound to variable `subreddit`\n",
    "for submission in subreddit.search(query1):\n",
    "    print(submission.title)  # Output: the submission's title\n",
    "    print(submission.score)  # Output: the submission's score\n",
    "    print(submission.id)     # Output: the submission's ID\n",
    "    print(submission.url)    # Output: the URL the submission points to\n",
    "                             # or the submission's URL if it's a self post"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# These functions will extract comments into a list by flattening comments from each submission\n",
    "top_level_comments = list(submission.comments)\n",
    "all_comments = submission.comments.list()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Comment(id='eto3om2')"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "all_comments.pop(0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 98,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "531"
      ]
     },
     "execution_count": 98,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# If len is 0, this means there are no comments in each of the submissions we've retrieved\n",
    "len(all_comments)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 75,
   "metadata": {
    "collapsed": true
   },
   "outputs": [
    {
     "data": {
      "text/plain": [
       "['MISSING_COMMENT_MESSAGE',\n",
       " 'STR_FIELD',\n",
       " '__class__',\n",
       " '__delattr__',\n",
       " '__dict__',\n",
       " '__dir__',\n",
       " '__doc__',\n",
       " '__eq__',\n",
       " '__format__',\n",
       " '__ge__',\n",
       " '__getattr__',\n",
       " '__getattribute__',\n",
       " '__gt__',\n",
       " '__hash__',\n",
       " '__init__',\n",
       " '__init_subclass__',\n",
       " '__le__',\n",
       " '__lt__',\n",
       " '__module__',\n",
       " '__ne__',\n",
       " '__new__',\n",
       " '__reduce__',\n",
       " '__reduce_ex__',\n",
       " '__repr__',\n",
       " '__setattr__',\n",
       " '__sizeof__',\n",
       " '__str__',\n",
       " '__subclasshook__',\n",
       " '__weakref__',\n",
       " '_extract_submission_id',\n",
       " '_fetch',\n",
       " '_fetch_data',\n",
       " '_fetch_info',\n",
       " '_fetched',\n",
       " '_kind',\n",
       " '_reddit',\n",
       " '_replies',\n",
       " '_reset_attributes',\n",
       " '_safely_add_arguments',\n",
       " '_submission',\n",
       " '_url_parts',\n",
       " '_vote',\n",
       " 'all_awardings',\n",
       " 'approved_at_utc',\n",
       " 'approved_by',\n",
       " 'archived',\n",
       " 'author',\n",
       " 'author_flair_background_color',\n",
       " 'author_flair_css_class',\n",
       " 'author_flair_richtext',\n",
       " 'author_flair_template_id',\n",
       " 'author_flair_text',\n",
       " 'author_flair_text_color',\n",
       " 'author_flair_type',\n",
       " 'author_fullname',\n",
       " 'author_patreon_flair',\n",
       " 'banned_at_utc',\n",
       " 'banned_by',\n",
       " 'block',\n",
       " 'body',\n",
       " 'body_html',\n",
       " 'can_gild',\n",
       " 'can_mod_post',\n",
       " 'clear_vote',\n",
       " 'collapse',\n",
       " 'collapsed',\n",
       " 'collapsed_reason',\n",
       " 'controversiality',\n",
       " 'created',\n",
       " 'created_utc',\n",
       " 'delete',\n",
       " 'depth',\n",
       " 'disable_inbox_replies',\n",
       " 'distinguished',\n",
       " 'downs',\n",
       " 'downvote',\n",
       " 'edit',\n",
       " 'edited',\n",
       " 'enable_inbox_replies',\n",
       " 'fullname',\n",
       " 'gild',\n",
       " 'gilded',\n",
       " 'gildings',\n",
       " 'id',\n",
       " 'id_from_url',\n",
       " 'is_root',\n",
       " 'is_submitter',\n",
       " 'likes',\n",
       " 'link_id',\n",
       " 'locked',\n",
       " 'mark_read',\n",
       " 'mark_unread',\n",
       " 'mod',\n",
       " 'mod_note',\n",
       " 'mod_reason_by',\n",
       " 'mod_reason_title',\n",
       " 'mod_reports',\n",
       " 'name',\n",
       " 'no_follow',\n",
       " 'num_reports',\n",
       " 'parent',\n",
       " 'parent_id',\n",
       " 'parse',\n",
       " 'permalink',\n",
       " 'refresh',\n",
       " 'removal_reason',\n",
       " 'replies',\n",
       " 'reply',\n",
       " 'report',\n",
       " 'report_reasons',\n",
       " 'save',\n",
       " 'saved',\n",
       " 'score',\n",
       " 'score_hidden',\n",
       " 'send_replies',\n",
       " 'stickied',\n",
       " 'submission',\n",
       " 'subreddit',\n",
       " 'subreddit_id',\n",
       " 'subreddit_name_prefixed',\n",
       " 'subreddit_type',\n",
       " 'total_awards_received',\n",
       " 'uncollapse',\n",
       " 'unsave',\n",
       " 'ups',\n",
       " 'upvote',\n",
       " 'user_reports']"
      ]
     },
     "execution_count": 75,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# Here's how you'd look at members of a Comment\n",
    "# PRAW generates this based on the most recent version of the API, so you'll need to find docs to figure out what stuff means\n",
    "dir(all_comments[0])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# Here's how you extract the text from the comment\n",
    "all_comments[0].body"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.2"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
